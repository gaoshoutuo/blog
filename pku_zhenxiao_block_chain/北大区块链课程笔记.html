<html lang="en">
    <head>

        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=0.5">

        <link href="http://www.yinwang.org/main.css" rel="stylesheet" type="text/css">
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">
        <link rel="shortcut icon" href="http://www.yinwang.org/images/Yc.jpg">

        <title>自律</title>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-45586344-1', 'yinwang.org');
            ga('send', 'pageview');
        </script>
    </head>

    <body>
        <script>
            if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent))
            {
               document.body.classList.add('mobile');
            }
        </script>

        <!--
        <div class="ad-banner" style="margin-bottom: 5px">
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <ins class="adsbygoogle"
                    style="display:inline-block;width:100%;height:90px"
                    data-ad-client="ca-pub-1331524016319584"
                    data-ad-slot="6657867155"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
        -->

        <div class="inner">
            <h2>北大区块链课程的笔记</h2>
           <p> 2020.11.11     做事情就应该要义无反顾的。大城市的人的特质比小城市可厉害太多了。</p>
            <p>2.比特币中的密码学
            <span>密码学有两条性质 哈希与签名，其中哈希的两条性质哈希膨胀 与 hidding  比特币中要多一条性质那就是puzzle friendly。
            先解释 哈希膨胀  对于x H(X)就是他的哈希值，密码学中也称digest 摘要。对于要求的X空间，存在有2^x
                个哈希值的取值范围，其中可能存在x!=y 但是HX=HY的情况这就是我们所说的哈希碰撞，此外我们还要就
                X的取值范围要比较连续平滑，HX也是，不能集中在某一些范围。x的取值空间要足够的大，用来防止以遍历
                的手段撞上同一个hash 然后得到x。为了得到一个比较正规的X范围 在比特币中。通常是 H_HEADER+NONCE.也就是
                X后跟一个随机数来保证X'的符合标准。第二层hidding的意思就是在HX的值可以公布，但是X的值不去公布，很难通过
                HX的值去计算X。MD5就是一种被我国王小云教授破解的失败的HASH函数。而比特币所要求的puzzle friendly 就是
                对于挖矿 HX要在某一个范围 例如在HX 在256位 前顶K位数的0的hash范围，挖矿就是在求这个nonce，但是nonce总是
                随机的，如今并没有好的办法去找到好的nonce直接破解难度，唯一就是硬用算力去算，谁算力大，谁越可能找到nonce，然后
                找到区块链获得铸币权。这也叫做工作量证明。比特币中使用sha-256hash算法，sercure hash algorithm
            </span>
                <span>比特币中的签名性质，每个人都有地址，需要用公钥私钥这对密钥，非对称加密体系弄得。对称加密是加密解密
                    用的都是同一把钥匙，密钥需要传输，密钥丢失就麻烦了。所以需要有一对密钥。也就是公钥传送给其他接受方，而
                    私钥自己保存，公钥用来加密信息，私钥用来解密信息。另外摘要为了防止篡改，需要自己的私钥用来生成摘要签名，
                    公钥验证签名，是否是本人，。

                    假如两个人生成的公私钥生成 相等一个人把另一个人账户的钱取走。这种情况存在但是几乎不可能，还是看密钥对生成算法
                    的。imtoken杭州就不知道被套话了还是怎么的，有一个人声称，自己用hasj碰撞撞到一个10w美元代币的账户。imtoken都把算法出处说了。
                    比特币要求的签名算法不仅生成密钥对的时候需要好的空间范围随机性，而且在签名的时候也需要好的随机源，不然容易泄露私钥。
                    诶菜才回三门牛早去杭州了
                </span>

            </p>
            <p>3 比特币中的数据结构
            <span>
                区块链也就是由一个个区块组成的链表。想象一个创世区块被第二个指着，第三个指着，然后继续，后一个区块存储前一个
                区块的HX，防止篡改。篡改传递。只要记住最后端的一个HX或者记住中间随便一个都可以去验证前面的区块。牵一发动全身。
                减少存储空间只需要记录几千个最近区块。去中心化的防止恶意节点。
            </span>
                <span>另一个数据结构是，merkle tree 只要记住根hash值，整颗树都能知道有没有被修改。比链表的效率更高一些。
                最底层是 data block 记录的是 交易 然后一层一层 HX HX F(HX HX) 上去到根hash值 上层全是hash pointer
                哈希指针。每个data block 都分header 与 body  header只有hash值  body则有交易的内容。MT有什么用呢，提供mercle proof。
                比特币有两种数据节点 全节点与轻节点 全节点含有头与身体，轻只有头，轻一般是钱包应用。MT包含在区块链的一个block中，应该就是body。
                那么如何向轻节点钱包证明某一条记忆记录已经被写到区块当中了呢。需要证明 也就是从叶子节点到根节点的一个路径。需要从自身的tx交易
                出发 提供HX 与自身另外一个HX 在上层依次到根节点。重节点要将mp 发送给轻节点用来证明。篡改 hash
                膨胀只能理论科学 collision resistance
                ologn 伙伴证明 on 非伙伴证明，但是叶节点的排列顺序对hash做排序则出现好的结果ologn 其实就是线性二分。
                sorted merkle tree 比特币不要求作顺序 比特币不要求不存在证明 二分的无环，总能二分到一对上或者中间的hash也就能
                找不存在。对啊 区块链的鸽子笼原理 怎么保证无环的区块</span>
            </p>

            <p>4-BTC协议
                <span>央行发行数字货币。央行的公钥对所有数字货币加密并且自己保存私钥，私钥给所有的数字货币做前面。
                所有帐户都有公钥能够对数字货币做验证，是否真的是央行发行的，盗取央行的私钥。数字货币就是个文件，文件可以复制，就是不能够复制。避免双花
                    。那么假如对所有数字货币进行编号记录在一个大数据库里面，而且要知道币在谁手里。不仅验证真币还得验证在谁手里。
                    但是这又不是去中心化了，可以这么做，但是并不去中心化。要依赖我们的区块链。
                    比特币系统的铸币权 铸币税是由挖矿决定的,数据结构不仅仅是央行维护的，而是所有用户共同维护就是央行.
                header 中的5个字段就是hash 以及 MThash version target nonce</span>
                <span>例如一个例子 A(10)->B(5)||C(5).比特币转账要说明两点一点就是币的来源合法另一点就是接收方的地址 ，mint。需要插图了。把钱
                转给别人需要自己的私钥签字，私钥做的事情代表是自己本人以及做本人才人做的事情。交易区块不仅包含哈希指针，
                而且还包含指向币的来源的指针，其实也就是写个字段 或者通过某种形式的next list指向来源</span>
                <span>繁琐的玩具  A给B转账 A需要知道B的公钥地址账户  B也需要知道A的公钥用来签名而且需要知道A的余额。所有节点都需要知道A的公钥。
                这不就得持有太多太多信息了，所有人如何知道A的公钥，完美的安全感觉效率太慢了，可以牺牲一部分吧。A给B交易本身则需要
                    输入A的公钥。那么假设有一个恶意节点传输交易，传输自己的公钥并且用自己的私钥去签名而且以A的名义，不就花了A的钱吗。
                    所以需要提供A的公钥以及币的来源看看来源交易中的公钥跟A的公钥是否相等。币的来源是公钥的哈希。
                    例如A交易，本身的输入加上前面币来源的输出组成一个比特币脚本，试试看能否运行，也就能够确证是否转账。
                </span>
                <span>
                    比特币转账交易的记账权。如果是投票来取得consens共识，则每次的投票效率过低。于是需要选出可信的记账节点。
                    联盟链hyperledger fabic的做法就是几个大公司组成的节点是可信的，然后由这些节点记账。也就是超级账本。比特币不是这种
                    方式去获取记账权，而且记账权的设计应该要满足应记尽记录，而不是有自己的私心决定谁能够被记录谁不能。另一种投票方式
                    是按照账号投票，这样不公平，因为恶意节点可以注册大量的废马甲来恶意投票选出恶意节点，这也被叫做女巫攻击 sybil attack.比特币通过
                    挖矿争夺记账权，本质就是算力来做记账权，本地node不停的试H header+nonce 4个字节的nonce 的随机域低于target来满足符合要求的条件，
                    比特币系统根据要求来动态调整target的前置0，以调整挖矿难度，比特币设计21w个区块过后，初块奖励减半。最开始的coinbase
                    有50BTC，后来是25，再后来12.5比特币网络是不断通缩的。比特币中的共识机制就是通过算力pow来挖矿争夺记账权。
                    分布式协议PAXOS与RAFT这边先不表，前者满足三大性质CAP的consistency一致性。CAP涉及拜占庭问题，且三个性质为不可能三角关系，
                    即最多满足其中两个，有个政治笑话说得好，良知真诚党性最多满足其三。其中A为 可用性Availabilty、，以及分区容忍性 prtition tolerance。
                    FLP三位在分布式领域的专家人物，分布式恩好好学，然后肖老师的背景也是做分布式出身的。做科研懂大框架，找地方修补，然后
                    找方向。弹幕说500个超算中心不如一个ASIC矿场对于比特币的挖矿。还有一个重要的性质，也就是最长链原则，当你挖出区块的时候，
                    不要高兴太早，应该要祈祷别人没人跟你同时挖出，不然的话要竞争成为最长链条，这也是共识协议POW的一部分，
                    而且当成为孤儿节点的时候，由于在非主链上币的来源不合法，其上的所有交易信息都将不被承认。
                </span>

            </p>
            <p>5-比特币实现
                <span>比特币的全节点在内存中维护一个数据结构叫做UTXO，记录那些未被花掉的BTC。比特币矿工除了去争夺记账权获得coinbase的奖励之外，
                    打包交易还有一个打包费用，但是在例子中一个区块的出块奖励是12.5btc 远远大于fee 0.12 100倍。一个区块在比特币中的规定是只有1M大小，
                    比特币有使用TX base 基于交易的记账系统，他的特点就是无账户，所以需要去计算币来源防止双花，另一种以太坊，则类似银行，
                    是一种基于账户的记账系统，大概记录了那些账号存在有多少代币。那么挖矿的nonce 也只有2^32的可能性，小于整个2^256的解空间，也就是对于
                    全遍历而言依然还有可能是挖不到矿的，在数据字段中，MT hash是可以修改的，这很神奇，因为第一个TX交易为自己的coinbase，在coinbase
                    中写任何东西都没人管，所以会产生一个8字节的额外随机数，总共就是2^96,这样挖到矿的概率就高了，毕竟前导0得256-96=160个才在一个比较
                    均匀区间去限制我们挖矿 puzzle。交易执行脚本，为前节点的输出币来源与后节点输入币去处加在一块执行，这是比特币脚本，以太坊智能合约应该也差不多。
                    比特币挖矿寻找nonce，对于单次而言是独立的的伯努利，无记忆性的，对于一系列的nonce而言是泊松分布，学过概率论知道，指的就是单词概率
                    低而重复多次的，同样也是无记忆性，以概率密度保障出块时间为10分钟左右。那么所有的比特币是2100w个这个我以前就会算，在这里也就不表了。
                    对于某次挖矿，10分钟都未曾产生区块，那么产生区块的可能时间依旧为10分钟，从任何一点去切概率时间密度函数都是无记忆延续的结果。
                    挖矿耗费大量的电力，那么它到底有什么意义呢，当然有为了比特币整体的安全性，矿工目前是在为了初块奖励，但在将来为了
                    矿工费fee，保证系统的诚实节点足够才是比特币网络的安全。前面说的nonce+MT hash的 96位 其实是两层for循环，
                    外循环是2^64的mt hash 外循环是2^32的hash。那么假如有个不诚实的恶意节点M获得记账权，乱记账怎么办。
                    1.A->M 记录A给自己转账 不行因为没有A的私钥来签名
                    2.M->A 后M-M' 双花，也不行，无法通过诚实节点的验证，诚实节点不会在这个区块之后挖，而是分叉出来挖，导致这个区块的初块奖励作废。
                    保证共识POW不仅仅是选出诚实节点作为记账矿工，而且在最长链方面也保障了整个比特币系统的安全。也有可能恶意节点会拒绝记录那些
                    合法的交易内容，这些交易内容可以留在下一个节点去记录。还有一种攻击叫做self mining 也不行 在算力不足的情况下竞争过
                    最长链的可能性很小，基本是薄一博单变摩托。而且偷偷藏着可能会导致前面的初块奖励作废。一般都是6个区块的 confirment，
                    但是目前比较多用的还是最先接听原则，即M给A了 就不再接听M给m'。好了 结束 我喜欢zhenxiao老师 听课是真爽。
                    更mit的吉尔伯特的线性代数一样。北大的老师比较放飞 郭炜也是

                </span>
            </p>



            <p>6-比特币网络
                <span>应用层即 区块链，网络层即p2p的tcp网络，假如挖矿网络需要一个总之节点，就是接在上一个节点之后计算nonce
                难度target hash的一个预备节点。</span>
                <span>flooding 邻居，轻节点验证需要依赖重节点，选取周边节点作为邻居，并且转账无论远近时间上几乎相同。假如同时A-B A-C
                那么在区块中有可能是被写入前者有可能也是后者，看先后，然后看哪个节点计算的运气比较好算出nonce并且被接受，哪个节点最后就被
                挂在链上，上面的交易是合法的，是重节点。账本</span>
            </p>


            <p>7-比特币挖矿难度
                <span>target=pre_target*(2016block_time/20160min)或者diff=prediff*(2week/2016block_time).通常target前面至少有70个0，
                基本上需要10^21个搜索空间所以很难搜索，比特币每2016个去区块之后调整挖矿难度，难度区间在[1/4,4]，之间，保持简单鲁棒但是并不一定高效，
                出块时间设置10分钟和2016之类这些参数是中本聪自己设计的，可能有过一些调查研究总体而言数据还是比较保守的。出块时间不适宜设置过短，因为
                过短可能会导致多分叉，而造成算力的分散，使得恶意分叉最长链成为可能。了解加密货币历史的应该知道，其实比特币并不是最早的加密货币，
                只不过去中心化的区块链体系是比特币建立的，而且比特币并没有法币的挂钩支持。在比特币之前就有几十种加密货币，只不过他们都失败了。
                比特币目前的价值我看到是作为一种委内瑞拉保险存在的，在俄罗斯 阿根廷 等等一些货币贬值严重又拿不到美元的地方，持有比特币的市值比较多。
                而对于以太坊而言，对于孤儿节点是不丢弃的而是给一个uncle reward也给予一定的奖励。GHOST并且以太坊似乎每个节点自己本身可以调整难度，比特币则是写好
                的代码规定2016个之后必须调整难度。</span>
            </p>

            <p>8-比特币挖矿
                <span>前面先介绍了比特币的轻节点重节点的各种功能属性。比特币挖矿总是沿着最新的节点往下挖的，比特币系统的
                的安全性由密码学以及共识来组成，但是共识机制正在受到挑战。矿工挖矿在这么庞大的算力面前其实有点冒风险，并且收益不稳定，
                    因为虽然10分钟出一个出块奖励但是对于每个矿工而言能不能挖到矿还是小概率事件，所以出现新的机构来均摊收益，
                    这叫做矿池。这边说一点题外话，最早挖矿家里的通用cpu也能挖，但是太不划算，因为只用到一些整数计算的指令与电路，
                    大多数内存以及cpu资源并没有被使用到，后来是gpu但是gpu也有很多没有用到，造成GPU涨价的有老黄的阴谋也有当矿机的原因，跟深度学习其实没有太多关系，说道深度学习，GPT-3造许多个自己，比如浮点计算等等在深度学习中计算梯度很有用的东西，
                    后来出现了专门挖矿的矿机ASIC芯片，专门设计某种解某种算法的电路，优点就是高效，缺点就是太过专一化，当币没有价值，
                    或者算力落后就直接报废淘汰没有别的作用，而且AISC芯片的设计周期至少得是一年，大多数AISC矿机的最大
                    利润也是在前两个月获得的，后面就是会出现更强大的矿机。而且矿机制造商是有套路的造出矿机一般都是自己先使用来挖矿，
                    告诉矿工还在调试来割韭菜，最后到矿工手里也不是最先进的了，矿工被割韭菜矿工泪目。我之前在杭州有个章bitcoin他在买矿机矿池的算力，
                玩的跟云计算一样，我估计也是被割韭菜的不知道他现在怎么样了，那种AKB-48币到底有没有赚钱，好像还要锁仓之类的，都是套路。
                这种需要ASIC且大部分算力被掌握在专有公司的中心化挖矿，并不符合最初比特币的去中心化设计初衷。所以现在也出现AISC resistance 抗ASIC的
                alternative puzzle的算法，矿机的军备竞赛。好的我们说回到矿池，好处就是均摊收益，使得收益比较的均摊化，给矿工
                一些确定性。它由pool manger以及矿工组成，矿主是全节点，矿工是轻节点。矿工可以是同一个机构制造的矿机，也可以的
                分布在全世界各地，通过某种特殊协议与矿主联系成为矿工。挖矿是难的，矿主为了避免吃大锅饭不去搞平均主义，而是降低挖矿
                难度，将原先要求至少70个前导0的挖矿target改变为60个0，派发自己的nonce nbit 以及coinbase p 给矿工作为 mining puzzle计算，然后60个0的计算结果，
                被叫做share，是一种almost valid block，这种区块虽然没有用，但是作为避免大锅饭怠工的一种工作量证明。矿工作为轻
                节点就类似于是一个不明真相的群众。他只管挖矿计算nonce，而矿主掌握算力与分发权力。当矿主的某个矿池出现51%超过情况下，矿工也不知道
                这种情况的发生，依旧闷头挖矿。那么51攻击怎么攻击呢。前面我们知道是分叉攻击，自己去获得最长链去故意回滚别人的交易。线上系统永远无法解决线下系统的问题。
                当比特币价格一下子跌了80%的时候就发生矿难了，当年那是以前的矿难会放出大量的矿卡cpu。由于矿主分发的nonce以及
                coinbase p是包含自己的地址信息的，所以不存在矿工挖到nonce偷币的情况，而且矿工捣乱不提交结果也是损人不利己。第二种51攻击
                就是一种排挤制裁，假设51的算力不允许A的任何交易操作被写入区块链中，那么其他区块也会考虑舍弃A的交易结果。以避免
                被硬分叉误伤导致拿不到出块奖励。但是51算力做不到盗取比特币，因为没有私钥无法签名。</span>
            </p>
            <p>9-比特币脚本
                <span>也没咋么听懂，特别是后面的p2pk p2pkh proof pf burn .基本听懂就就是，将前一个脚本的output与后一个脚本的input粘合，
                    第二点就是发生一次交叉，先执行后一个节点的输入再去执行前一个节点的输出。我这边做一下会议。
                    p2pk 就是把钱付给公钥地址   钱的数目 签名 公钥地址，算了回忆不了。得实际代码时间，概念性的东西需要到代码中有些区别，
                    说一下burn 就是把一些内容写在return后面 return后面不执行，这里两个用处一个是销毁一定数量的比特币去发行新币，另一个就是
                    记录一些内容，(阿里巴巴说央行虽然推出了数字货币，但是空洞无物，没有实践。我发现我对于不懂的东西也习惯先吹为好，这样浮躁，还是要了解知识为基本)
                    当然这些内容也并不一定需要销毁一定数量的btc，但是打包手续费还是要有的。以太坊消耗GAS，做技术分享。

                </span>
            </p>

            <p>10-比特币分叉，肖臻老师真就是苏格拉底式的教学，我以后培训班教学风格可能是肖-垠-吉尔伯特-费曼式的。
                <span>分叉有好几种形式。
                    1，正常过程中几乎同时产生的两个区块，广播的范围覆盖造成的分叉，这个分叉会消失。被叫做state fork。
                    2.forking attack分叉攻击，即比如51攻击这种，超过最长链条。一般分叉攻击都的目的用来双花。
                    3。protecol fork 协议分叉。其中分为硬分叉与软分叉。
                    先来解释什么是硬分叉，一句话的定义就是硬分叉造成永久性的分叉为硬分叉，新协议区块兼容旧区块，旧区块不兼容新区块。(这里解释需要图片，看来P开头的ProcessOn工具有用武之地)
                    举个例子，例如比特币的区块大小被限制为1m大小，1M也就是10^6B，每个交易大小大概在250B，所以一个区块最多大概包含
                    4000个交易，而这4000个交易又是在10分钟之内完成的，4000/600～7 即7个/s的ps，这个速度真心很慢很慢了，所以有人在社区
                    提出要修改比特币协议中的区块大小为4m为其扩容，但是社区有些保守派不同意，但是大多数人还是同意你的选择，这里指的大多数人
                    并不是账号而是指算力，当然不支持你的人也有理由，比特币广播 flooding区块非常吃带宽，当增加区块大小，相当于几何级别的增加
                    广播难度。但总之最后大多数算力都同意扩容为一个4M大小的区块，于是开挖。挖出第一个为4M大小的新区块Q。老节点不认可这个新区块Q，于是仍然
                    在Q之前的区块接着往下挖，一旦当旧区块链上存在有新区块，旧区块就要搞分叉，不认可即使它是最长链，但是新区块大小小于1M的可能性也是有，也能够被认同。
                    历史上出现BTC与BCH的硬分叉，也出现ETC与ETH的硬分叉，社区出现分歧，于是各走各的路，但是分叉初期，居然能够重放，即一个币在两个链上都能
                    花，后来为了应对这个情况，给header新增了一个字段，叫做chain_ID用来防止硬分叉后出现的双花。当网络中所有节点协议一致是不会出现分叉。
                    解析软分叉，即不是永久存在会消失的分叉，新节点不认同旧节点，旧节点认同新节点。举个例子，上面的从1M改为0.5M，即
                    当系统中大多数为新节点，倘若运气好旧节点挖出第一个节点Q，但是新节点不会承认它，而且新节点的算力高，新节点会分叉出一条新链，
                    旧节点认为新节点也是合法最长链，于是在新节点上挖，但是每次旧节点挖到，新节点都分叉不承认，所以有种鼓励旧节点的感觉。
                    区块链是去中心化系统，不同于其他系统，修改某些参数极易引起分叉。这就是硬分叉与软分叉的区别。
                </span>

                <span>投资浙大中控 超级有必要与意义
                    厉害了 真的 我真就想买浙大
1	褚健	72361750	16.37
2	杭州元骋企业管理合伙企业(有限合伙)	39500000	8.93
3	浙江正泰电器股份有限公司	36509375	8.26
4	中国石化集团资本有限公司	21890000	4.95
5	英特尔亚太研发有限公司	21875000	4.95
6	褚敏	20623548	4.66
7	申万宏源中控技术员工持股1号单一资产管理计划	20436563	4.62
8	兰溪普华壹晖投资合伙企业(有限合伙)	19544232	4.42
9	上海檀英投资合伙企业(有限合伙)	18471786	4.18
10	中核(浙江)新兴产业股权投资基金(有限合伙)	13270000	3
合计	284482254	64.34
上市估值200e  最后估值应该在500e左右吧  一年利润也才   7e
                </span>
            </p>

            <p>11-比特币问答
                <span>Q1 转账交易对方不在线怎么办  不需要对方在线 只需要对方的公钥地址就可以
                    Q2 可否跟一个没见过的账号交易  可以 但是没见过的账号很有可能是死号，本质上区块链币的来源不是一个具体的值而是计算过程函数
                    Q3私钥丢了怎么办  凉了
                    Q4怎么有效的保存私钥  硬件钱包 冷钱包
                    Q5私钥泄露怎么办 赶紧把全转走
                    Q6转账错误怎么办 很难办
                    Q7BURN 返回错误还怎么写入到区块链当中，只是验证 交叉交易的前者in，而不是后者的output，得等待花这个币才要去验证。这个时候是错误的 永远花不了。这种方式也不被提倡因为造成UTXO膨胀以及通缩
                    Q8 挖到的nonce能否被其他矿工偷 不行，自己组装的交易才符合对前者target的要求，当没有nonce的时候，自己创立基础的区块一边记录交易信息一边挖。nonce本身与自身的第一个交易TX契合
                    Q9MT 应该数组形式存储 这样创建一颗二叉树  对一个数组形成的二叉树快速求hash
                    Q10 交易费怎么算 输入BTC-输出 就是交易费
                </span>
            </p>


            <p>12-比特币匿名性
                <span>
                其实比特币中的匿名性并不好，去中心化也有去中心化的代价。即当你的公钥地址与现实的身份发生关联的时候，你的身份也就暴露了。
                    比特币的匿名是通过未名或者化名实现的，可能会准备许多个地址来隐藏其中，但是总是能找到一些实际找零这个漏洞找出你的
                    真实身份。例如你有两个账户 4 5 要转账  6 3 我们知道 3肯定是找零账户。比特币支付其实是个bad idea 因为第一个到帐速度不是实时，
                    第二个不是稳定币，汇率存在波动，第三个容易与自己的身份关联暴露。比特币门头沟当年占据比特币交易的70%但是被黑客盗了，
                    然后就倒闭了创始人被抓去坐牢。中本聪因为从来不花也没再世界上张扬，所以全世界都不太清楚他是谁。有人说他的创世区块私钥丢了。
                    有人说他已经被秘密干掉了。有人说他仍然在秘密的生活，总之说话很多。信用卡的信息当年被公布出来做研究，虽然有了一些加密措施，
                    但是还是容易在现实世界发生的一些交易行为，时间戳地点，给找到时间的关联。以前也有用比特币做非法的毒品交易的，但是创始人虽然
                    并没有花任何一毛钱的btc还是被抓了，还是自己在现实的身份泄露，所以寄希望与比特币来保持匿名性，干坏事基本都被抓了，中本聪
                    只是个例，而且还是他自己的身份信息保存的比较好。现实一点讲比特币分两层来讲解匿名性，低一点TOR跳板路由，即分好几层过来的信息，
                    使得溯源变得困难，这也是常用vpn以及一些匿名浏览器的功用。一些人使用vps是会再开个tor。第二点应用层可能就是通过coin mixing，
                    这也是管用的技巧，就是混淆一大堆人的身份，找不到真实的你，但是mix很多机构自身也是匿名的，也就是他如果跑路你是找不到他的。
                    交易所天然具有coin mix属性，就是法币-btc-usdt-eth-btc 这样你的btc来源跟原先肯定不太一样。、接下来要说的是零知识证明，
                    也就是不需要提供出这句话本身的信息来证明他的正确性。数学上的同态隐藏就帮助BTC系统提高安全匿名，其原理是
                    x！=y Ex!=Ey 注意这里的EX是绝对不等于EY的，跟hash的有可能相等是稍微有一些不同的，而且满足一下几个线性条件，
                    Ex+y=EX=Ey Exy=EX*EY 等等。每个X对应一个独有的Ex 这并不是说是单调，也可以不单调。当Alice要给bob证明他有X与Y满足
                    X+Y=10时候，只需要发送Ex+k Ey-k 给BoB bob通过Ex+k  +  Ey-k 来验证是否等于 E10 则有x+y=10.公钥加密私钥解密公钥验证私钥签名体系，
                    可以也不可以算作零知识证明.学术死板的一些规定都可以不去管。前面的k是用来防止被作为暴力遍历破解的。
                    关于零币零钞，也是通过更强更复杂的数学知识来保证更好的匿名性，但是必须以性能作为一部分的代价。零币指的是，币的编号是由自己生成，与BTC
                    不一样，虽然都是由央行发行，央行的私钥签名，但是是一种盲签，也就是央行并不知道他的编号，但是央行知道这个币是合法的，当币
                    支付的时候，央行签名一次然后给A账户去掉一个给B账户增加一个。这样
                </span>
            </p>

            <p>13-比特币思考
                <span>
                    开篇警醒语录。保护你的好奇心与想象力。同学们不要被学术限制你的头脑，也不要被程序员限制你的想象力。
                    我呆在三门这么小地方也绝对不要就这样被限制才华的发展，仍然要坚持努力，总是会有不一样的结果梦想。
                    人生的意义在于有结果有意义的奋斗。不在于满足一个个欲望。
                    比特币中的区块hash，实际上并不是链表，只是在本地保存一个kv的levelDB，k为hash v为整个区块的内容，这样就可以通过最后一个hash，
                    去寻找整个区块链的所有区块信息。区块恋，指的是一对情侣将比特币保存在私钥当中作为定情信物，当修成正果之后，再将比特币取出，其中
                    两人各自保存其中一半的私钥。这样不是安全性会降低一半而是会指数的下降2^128,这样的做法非常不安全，可以使用我们上次介绍的，
                    多重签名，而且多重签名的做法比较的灵活。如果没有翅膀必须自己多加努力，起飞，永远努力不要放弃，路正确时间问题，我哭了。
                    BTC实际上并没有绕开分布式共识，非常容易被攻击破坏分叉，理论上分布式共识是不可改变的但是实际发生变化，这里老师
                    讲故事，实际的模型与现实的模型并不一样。比特币由于是通缩的一定程度上保持了他的稀缺性，但是经济发展财富增长，适度的通胀是有益的，
                    而且对于比特币这样的财富会集中在已有的货币上，这就像北上广深的资源与其房价。货币金融学。量子算法虽然会破坏现有的密码学，动摇
                    比特币的基础，但是比起考虑比特币的安全性，实体的金融更加容易受到冲击。HASH sha-256 是有损的，如果无损的话，那么他是一个
                    超级无敌的压缩算法。
                </span>
            </p>

            <p>14-比特币总结  我自己总结
                <span>
                    讨厌多次一举，温故知新。区块链是一个去中心化的账本，比特币通过生成公私钥队，公钥私钥都有其配对作用。比特币通过执行脚本验证合法性，
                    区块链是一个看似为hash指针的链表，虽然存储在硬盘的kv DB而且通过内存的UTXO集合管理币的来源。
                    转账:公钥地址hash作为地址，转账仅仅需要对方地址 不需要对方私钥，而需要己方的公私钥
                    挖矿 竞争记账权 pow 尝试nonce 保证系统安全
                    安全性 密码学上的安全性  共识机制上的安全性  最长合法链
                    匿名 比特币的匿名性叫做未名 不要跟现实世界发生任何交互总是匿名的.
                    分叉 恶意的攻击分叉 以及硬分叉 软分叉，新节点都占51%以上。硬分叉永久存在，旧节点不认可新节点要分叉，新节点认可旧节点。软分叉是旧节点认可新节点，但是新节点不认可旧节点。
                </span>
            </p>


            <p>14-以太坊概述
                <span>
                    对比特币运行中出现的问题优化产生的区块链2.0，以来GHOST初块时间设置为10几秒，挖矿问题mining pluzzle 非ASIC，是高内存的方案。
                    取代POW生成POS新机制，基于权益的投票，类似股份制，stake.货币可以去中心化，那么还有什么可以去中心化呢，就是合同，所以产生只能合约。
                    BTC最小为一聪，ETH最小为1wei，Vatalik以太坊创始人的意思。去中心化货币的优势就是跨国转账，去中心化的智能合同的优势就是
                    跨国的司法困境，通过技术手段限制。用技术去方便与取代一部分的政府职能。好像马云做的很多东西都是这方面的，蚂蚁链，咸鱼小法庭。
                    卧槽我想做的降低司法成本的维权成本的东西原来马云已经开始做了。
                </span>
            </p>


            <p>15-以太坊账户
                <span>
                    以太坊是基于账户的，btc交易需要验证币的来源，但是以太坊账户余额，组成的状态数被所有全节点未出，比特币的币来源可以防止双花，以太坊设计
                    nonce计数器用来防止双收，双花是花钱的人不老实，双收的是收钱的人不老实，重放攻击。不需要说明币的来源的这种基于账户的设置一方面是比较自然。
                    以太坊中存在两种账户，1 外部账户 有balance 余额以及nonce 计数器，一个交易内容必然会给到nonce+1,例如验证，某个nonce21是原来nonce状态20的+1，
                    则这个交易不是重放攻击，所以交易完成之后账户的nonce状态修改为21. 当再来一个nonce21就是重放了。另一种账户叫做合约账户，有code与storage两种
                    字段状态，基于合约账户可以产生一些金融衍生品，例如预测投资往里面投钱。币就是票，以前我是听说不满意结果就可以收回来。
                    基于智能合约的技术会给我们的社会带来什么影响。现在一个新技术出来，立马就有人要去占据专家的位置，来思考这个技术会给人类社会带来
                    什么影响，可是其实做技术的人都没想过。就很滑稽。
                </span>
            </p>


            <p>16-以太坊状态树
                <span>

                </span>
            </p>

            <p>17-以太坊交易树与收据树
                <span>

                </span>
            </p>

            <p>18-以太坊GHOST
                <span>

                </span>
            </p>


            <p>19-以太坊挖矿算法
                <span>

                </span>
            </p>


            <p>20-以太坊难度调整
                <span>

                </span>
            </p>
        </div>
    </body>

</html>